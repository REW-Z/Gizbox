import <"core">  
import <"stdlib">  

using Core;  
using Console;
using Collections;

GC::Disable();

namespace Creature
{
    int totalCount = 0;

    Creature Born(string type)
    {
        if(type == "Human")
        {
            Console::Log("Create Human...");
            Human inst = new Human();
            Creature::totalCount ++;
            return (Creature)inst;  
        }
        else
        {
            return null;
        }
    }
    void Die(Creature c)
    {
        if(c != null)
        {
            Console::Log("Delete Creature:" + c.name);
            delete c;
            Creature::totalCount --;
        }
    }
}
class Creature
{    
    string name = "";
    int age = 0;

    void Move()
    {
        Console::Log(this.name + " move...");
    }

    void Foo(string aaa)
    {
    }
}
namespace Human::Job
{
    const int Undefined = 0;
    const int Student = 2;
    const int Teacher = 4;
    const int Engineer = 8;
    const int Cook = 16;
}
class Human : Creature
{
    int job = 0;
    
    void Move()
    {
        Console::Log(this.name + " walk...");
    }
}

//Test  
Human sam = (Human)Creature::Born("Human");
sam.name = "Sam";
sam.age = 20;
sam.job = Human::Job::Student;

sam.Move();

for(int i = 0; i < 99; i++)
{
    sam.age += 1;

    if((sam.age % 10) == 0)
    {
        Console::Log(sam.name + " is now " + (string)(sam.age) + " years old!");
    }

    if(sam.age > 90)
    {
        Creature::Die(sam);
        break;
    }
}


var inferNum1 = 111;
var inferNum2 = inferNum1;

Console::Log("sum:" + (string)(inferNum1 + inferNum2));

Console::Log("Test1 Finish...");

int[] indexList = new int[10];
int[] valueList = new int[10];
indexList[0] = 1;
valueList[1] = 333;
int a = valueList[indexList[0]];

class AAA
{
    BBB bbb = null;
}
class BBB
{
    CCC ccc = null;
}
class CCC
{
    int x = 0;
}

AAA aaa = new AAA();
aaa.bbb = new BBB();
aaa.bbb.ccc = new CCC();
aaa.bbb.ccc.x = a;

Console::Log("aaa.bbb.ccc.x:" + (string)(aaa.bbb.ccc.x));
Console::Log("Test2 Finish...");

//  --------------------------------------------------
//  0   |status 0  |                    CALL Core::GC::Disable@ LITINT:0
//  1   |status 0  |                    = tmp@0 RET
//  2   |status 0  |                    = Creature::totalCount LITINT:0
//  3   |status 0  |                    JUMP LABEL:exit:Creature::Born@_string
//  4   |status 0  |entry:Creature::Born@_string:
//  5   |status 3  |func_begin:Creature::Born@_string:FUNC_BEGIN Creature::Born@_string
//  6   |status 3  |If_0:
//  7   |status 3  |IfCondition_0_0:
//  8   |status 3  |                    == tmp@1 type CONSTSTRING:0
//  9   |status 3  |                    IF_FALSE_JUMP tmp@1 LABEL:ElseStmt_0
//  10  |status 3  |IfStmt_0_0:
//  11  |status 20 |                    PARAM CONSTSTRING:1
//  12  |status 20 |                    CALL Console::Log@_string LITINT:1
//  13  |status 20 |                    = tmp@2 RET
//  14  |status 20 |                    ALLOC tmp@3 Human
//  15  |status 20 |                    PARAM tmp@3
//  16  |status 20 |                    CALL Human.ctor LITINT:1
//  17  |status 20 |                    = inst tmp@3
//  18  |status 20 |                    = tmp@4 Creature::totalCount
//  19  |status 20 |                    ++ Creature::totalCount
//  20  |status 20 |                    CAST tmp@5 Creature inst
//  21  |status 20 |                    RETURN tmp@5
//  22  |status 3  |                    JUMP LABEL:EndIf_0
//  23  |status 3  |ElseStmt_0:
//  24  |status 18 |                    RETURN LITNULL:
//  25  |status 3  |EndIf_0:
//  26  |status 3  |                    RETURN
//  27  |status 3  |func_end:Creature::Born@_string:FUNC_END Creature::Born@_string
//  28  |status 0  |exit:Creature::Born@_string:
//  29  |status 0  |                    JUMP LABEL:exit:Creature::Die@_Creature
//  30  |status 0  |entry:Creature::Die@_Creature:
//  31  |status 4  |func_begin:Creature::Die@_Creature:FUNC_BEGIN Creature::Die@_Creature
//  32  |status 4  |If_1:
//  33  |status 4  |IfCondition_1_0:
//  34  |status 4  |                    != tmp@6 c LITNULL:
//  35  |status 4  |                    IF_FALSE_JUMP tmp@6 LABEL:EndIf_1
//  36  |status 4  |IfStmt_1_0:
//  37  |status 17 |                    + tmp@8 CONSTSTRING:2 c.name
//  38  |status 17 |                    PARAM tmp@8
//  39  |status 17 |                    CALL Console::Log@_string LITINT:1
//  40  |status 17 |                    = tmp@7 RET
//  41  |status 17 |                    DEL c
//  42  |status 17 |                    = tmp@9 Creature::totalCount
//  43  |status 17 |                    -- Creature::totalCount
//  44  |status 4  |                    JUMP LABEL:EndIf_1
//  45  |status 4  |EndIf_1:
//  46  |status 4  |                    RETURN
//  47  |status 4  |func_end:Creature::Die@_Creature:FUNC_END Creature::Die@_Creature
//  48  |status 0  |exit:Creature::Die@_Creature:
//  49  |status 0  |                    JUMP LABEL:exit:Creature
//  50  |status 0  |Creature:
//  51  |status 7  |                    JUMP LABEL:exit:Creature.ctor
//  52  |status 7  |entry:Creature.ctor:
//  53  |status 16 |func_begin:Creature.ctor:FUNC_BEGIN Creature.ctor
//  54  |status 16 |                    = this.name CONSTSTRING:3
//  55  |status 16 |                    = this.age LITINT:0
//  56  |status 16 |                    RETURN
//  57  |status 16 |func_end:Creature.ctor:FUNC_END
//  58  |status 7  |exit:Creature.ctor:
//  59  |status 7  |                    JUMP LABEL:exit:Creature.Move@
//  60  |status 7  |entry:Creature.Move@:
//  61  |status 15 |func_begin:Creature.Move@:FUNC_BEGIN Creature.Move@
//  62  |status 15 |                    + tmp@11 this.name CONSTSTRING:4
//  63  |status 15 |                    PARAM tmp@11
//  64  |status 15 |                    CALL Console::Log@_string LITINT:1
//  65  |status 15 |                    = tmp@10 RET
//  66  |status 15 |                    RETURN
//  67  |status 15 |func_end:Creature.Move@:FUNC_END Creature.Move@
//  68  |status 7  |exit:Creature.Move@:
//  69  |status 7  |                    JUMP LABEL:exit:Creature.Foo@_string
//  70  |status 7  |entry:Creature.Foo@_string:
//  71  |status 14 |func_begin:Creature.Foo@_string:FUNC_BEGIN Creature.Foo@_string
//  72  |status 14 |                    RETURN
//  73  |status 14 |func_end:Creature.Foo@_string:FUNC_END Creature.Foo@_string
//  74  |status 7  |exit:Creature.Foo@_string:
//  75  |status 0  |exit:Creature:
//  76  |status 0  |                    JUMP LABEL:exit:Human
//  77  |status 0  |Human:
//  78  |status 8  |                    JUMP LABEL:exit:Human.ctor
//  79  |status 8  |entry:Human.ctor:
//  80  |status 13 |func_begin:Human.ctor:FUNC_BEGIN Human.ctor
//  81  |status 13 |                    PARAM this
//  82  |status 13 |                    CALL Creature.ctor LITINT:1
//  83  |status 13 |                    = this.job LITINT:0
//  84  |status 13 |                    RETURN
//  85  |status 13 |func_end:Human.ctor:FUNC_END
//  86  |status 8  |exit:Human.ctor:
//  87  |status 8  |                    JUMP LABEL:exit:Human.Move@
//  88  |status 8  |entry:Human.Move@:
//  89  |status 12 |func_begin:Human.Move@:FUNC_BEGIN Human.Move@
//  90  |status 12 |                    + tmp@13 this.name CONSTSTRING:5
//  91  |status 12 |                    PARAM tmp@13
//  92  |status 12 |                    CALL Console::Log@_string LITINT:1
//  93  |status 12 |                    = tmp@12 RET
//  94  |status 12 |                    RETURN
//  95  |status 12 |func_end:Human.Move@:FUNC_END Human.Move@
//  96  |status 8  |exit:Human.Move@:
//  97  |status 0  |exit:Human:
//  98  |status 0  |                    PARAM CONSTSTRING:6
//  99  |status 0  |                    CALL Creature::Born@_string LITINT:1
//  100 |status 0  |                    = tmp@14 RET
//  101 |status 0  |                    CAST tmp@15 Human tmp@14
//  102 |status 0  |                    = sam tmp@15
//  103 |status 0  |                    = sam.name CONSTSTRING:7
//  104 |status 0  |                    = sam.age LITINT:20
//  105 |status 0  |                    = sam.job LITINT:2
//  106 |status 0  |                    PARAM sam
//  107 |status 0  |                    MCALL Move@ LITINT:1
//  108 |status 0  |                    = tmp@16 RET
//  109 |status 6  |                    = i LITINT:0
//  110 |status 6  |For_0:
//  111 |status 6  |                    < tmp@17 i LITINT:99
//  112 |status 6  |                    IF_FALSE_JUMP tmp@17 LABEL:EndFor_0
//  113 |status 11 |                    += sam.age LITINT:1
//  114 |status 11 |If_2:
//  115 |status 11 |IfCondition_2_0:
//  116 |status 11 |                    % tmp@18 sam.age LITINT:10
//  117 |status 11 |                    == tmp@19 tmp@18 LITINT:0
//  118 |status 11 |                    IF_FALSE_JUMP tmp@19 LABEL:EndIf_2
//  119 |status 11 |IfStmt_2_0:
//  120 |status 21 |                    + tmp@21 sam.name CONSTSTRING:8
//  121 |status 21 |                    PARAM sam.age
//  122 |status 21 |                    CALL Core::Extern::IntToString@_int LITINT:1
//  123 |status 21 |                    = tmp@22 RET
//  124 |status 21 |                    + tmp@23 tmp@21 tmp@22
//  125 |status 21 |                    + tmp@24 tmp@23 CONSTSTRING:9
//  126 |status 21 |                    PARAM tmp@24
//  127 |status 21 |                    CALL Console::Log@_string LITINT:1
//  128 |status 21 |                    = tmp@20 RET
//  129 |status 11 |                    JUMP LABEL:EndIf_2
//  130 |status 11 |EndIf_2:
//  131 |status 11 |If_3:
//  132 |status 11 |IfCondition_3_0:
//  133 |status 11 |                    > tmp@25 sam.age LITINT:90
//  134 |status 11 |                    IF_FALSE_JUMP tmp@25 LABEL:EndIf_3
//  135 |status 11 |IfStmt_3_0:
//  136 |status 22 |                    PARAM sam
//  137 |status 22 |                    CALL Creature::Die@_Creature LITINT:1
//  138 |status 22 |                    = tmp@26 RET
//  139 |status 22 |                    JUMP LABEL:EndFor_0
//  140 |status 11 |                    JUMP LABEL:EndIf_3
//  141 |status 11 |EndIf_3:
//  142 |status 6  |                    = tmp@27 i
//  143 |status 6  |                    ++ i
//  144 |status 6  |                    JUMP LABEL:For_0
//  145 |status 6  |EndFor_0:
//  146 |status 0  |                    = inferNum1 LITINT:111
//  147 |status 0  |                    = inferNum2 inferNum1
//  148 |status 0  |                    + tmp@30 inferNum1 inferNum2
//  149 |status 0  |                    PARAM tmp@30
//  150 |status 0  |                    CALL Core::Extern::IntToString@_int LITINT:1
//  151 |status 0  |                    = tmp@29 RET
//  152 |status 0  |                    + tmp@31 CONSTSTRING:10 tmp@29
//  153 |status 0  |                    PARAM tmp@31
//  154 |status 0  |                    CALL Console::Log@_string LITINT:1
//  155 |status 0  |                    = tmp@28 RET
//  156 |status 0  |                    PARAM CONSTSTRING:11
//  157 |status 0  |                    CALL Console::Log@_string LITINT:1
//  158 |status 0  |                    = tmp@32 RET
//  159 |status 0  |                    ALLOC_ARRAY tmp@33 LITINT:10
//  160 |status 0  |                    = indexList tmp@33
//  161 |status 0  |                    ALLOC_ARRAY tmp@34 LITINT:10
//  162 |status 0  |                    = valueList tmp@34
//  163 |status 0  |                    = indexList[LITINT:0] LITINT:1
//  164 |status 0  |                    = valueList[LITINT:1] LITINT:333
//  165 |status 0  |                    = tmp@35 indexList[LITINT:0]
//  166 |status 0  |                    = tmp@36 valueList[tmp@35]
//  167 |status 0  |                    = a tmp@36
//  168 |status 0  |                    JUMP LABEL:exit:AAA
//  169 |status 0  |AAA:
//  170 |status 5  |                    JUMP LABEL:exit:AAA.ctor
//  171 |status 5  |entry:AAA.ctor:
//  172 |status 10 |func_begin:AAA.ctor:FUNC_BEGIN AAA.ctor
//  173 |status 10 |                    = this.bbb LITNULL:
//  174 |status 10 |                    RETURN
//  175 |status 10 |func_end:AAA.ctor:  FUNC_END
//  176 |status 5  |exit:AAA.ctor:
//  177 |status 0  |exit:AAA:
//  178 |status 0  |                    JUMP LABEL:exit:BBB
//  179 |status 0  |BBB:
//  180 |status 2  |                    JUMP LABEL:exit:BBB.ctor
//  181 |status 2  |entry:BBB.ctor:
//  182 |status 9  |func_begin:BBB.ctor:FUNC_BEGIN BBB.ctor
//  183 |status 9  |                    = this.ccc LITNULL:
//  184 |status 9  |                    RETURN
//  185 |status 9  |func_end:BBB.ctor:  FUNC_END
//  186 |status 2  |exit:BBB.ctor:
//  187 |status 0  |exit:BBB:
//  188 |status 0  |                    JUMP LABEL:exit:CCC
//  189 |status 0  |CCC:
//  190 |status 1  |                    JUMP LABEL:exit:CCC.ctor
//  191 |status 1  |entry:CCC.ctor:
//  192 |status 19 |func_begin:CCC.ctor:FUNC_BEGIN CCC.ctor
//  193 |status 19 |                    = this.x LITINT:0
//  194 |status 19 |                    RETURN
//  195 |status 19 |func_end:CCC.ctor:  FUNC_END
//  196 |status 1  |exit:CCC.ctor:
//  197 |status 0  |exit:CCC:
//  198 |status 0  |                    ALLOC tmp@37 AAA
//  199 |status 0  |                    PARAM tmp@37
//  200 |status 0  |                    CALL AAA.ctor LITINT:1
//  201 |status 0  |                    = aaa tmp@37
//  202 |status 0  |                    ALLOC tmp@38 BBB
//  203 |status 0  |                    PARAM tmp@38
//  204 |status 0  |                    CALL BBB.ctor LITINT:1
//  205 |status 0  |                    = aaa.bbb tmp@38
//  206 |status 0  |                    ALLOC tmp@39 CCC
//  207 |status 0  |                    PARAM tmp@39
//  208 |status 0  |                    CALL CCC.ctor LITINT:1
//  209 |status 0  |                    = aaa.bbb.ccc tmp@39
//  210 |status 0  |                    = aaa.bbb.ccc.x a
//  211 |status 0  |                    PARAM aaa.bbb.ccc.x
//  212 |status 0  |                    CALL Core::Extern::IntToString@_int LITINT:1
//  213 |status 0  |                    = tmp@41 RET
//  214 |status 0  |                    + tmp@42 CONSTSTRING:12 tmp@41
//  215 |status 0  |                    PARAM tmp@42
//  216 |status 0  |                    CALL Console::Log@_string LITINT:1
//  217 |status 0  |                    = tmp@40 RET
//  218 |status 0  |                    PARAM CONSTSTRING:13
//  219 |status 0  |                    CALL Console::Log@_string LITINT:1
//  220 |status 0  |                    = tmp@43 RET
//  221 |status 0  |
//  --------------------------------------------------