import <"core">  
import <"stdlib">  

using Core;  
using Console;
using Collections;

class AAA
{
    int field1 = 0;
}
class BBB<T1,T2>
{
    T1 field1 = default(T1);
    T2 field2 = default(T2);
}

T Add<T>(T x, T y)
{
    return x + y;
}

T Pow<T>(T x)
{
    return (T)((double)x * (double)x);
}

void main()
{
    //语法冲突(小于比较和类型转换)  
    int a = 0;
    bool b = (a < 0);
    AAA[] arr = new AAA[10];
    arr[0] = new AAA();
    arr[0].field1 = 123;
    Console::PrintLn("arr[0].field1:" + (string)(arr[0].field1));
    Core::Object boxed = (Core::Object)(arr[0]);

    //模板类特化测试  
    BBB<int, string> genobj = new BBB<int, string>();
    genobj.field1 = 23343;
    Console::PrintLn("gen:");
    Console::PrintLn((string)(genobj.field1));

    //其他单元的模板类特化测试  
    List<int> list = new List<int>();
    list.Add(111);
    list.Add(222);
    list.Add(333);
    Console::PrintLn("list:");
    Console::PrintLn((string)(list.Get(0)));
    Console::PrintLn((string)(list.Get(1)));
    Console::PrintLn((string)(list.Get(2)));


    //模板函数（泛型函数测试）  
    int x = 10;
    int y = 20;
    int z = Add<int>(x, y);
    Console::PrintLn("z:" + (string)z);

    int p = 5;
    int q = Pow<int>(p);
    Console::PrintLn("q:" + (string)q);

    //其他编译单元的模板函数测试  
    int m = -12;
    int n = Math::Abs<int>(m);
    Console::PrintLn("n:" + (string)n);
    int m2 = 12;
    int n2 = Math::Abs<int>(m2);
    Console::PrintLn("n2:" + (string)n2);
    int m3 = 0;
    int n3 = Math::Abs<int>(m3);
    Console::PrintLn("n3:" + (string)n3);

    Console::PrintLn("Test Finish.");

    Console::ReadLn();
}